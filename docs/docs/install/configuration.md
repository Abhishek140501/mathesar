# Configuring Mathesar 

The table below shows all available environment variables supported by Mathesar. See the specific installation guides for the applicable environment variables and instructions on how to set them.

> Variables marked with *Internal* should only be changed if you know what you are 
> doing.


### Backend Configuration
| Name                                     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Defaults                     |
|------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
| SECRET_KEY (_**Required**_)              | A 50 characters long random string used by Django for cryptographic signing.<br/> Refer [Django docs](https://docs.djangoproject.com/en/3.2/ref/settings/#std:setting-SECRET_KEY) for more details.<br/> You can generate a secret key using [this tool](https://djecrety.ir/).                                                                                                                                                                                                                                                                            |                              |
| DEBUG                                    | A boolean that turns on/off debug mode. Enabling debug mode will show a detailed error page.<br/> It should be turned off in production servers to avoid leaking sensitive data.<br/> Refer [Django docs](https://docs.djangoproject.com/en/4.2/ref/settings/#debug) for more details.                                                                                                                                                                                                                                                                     | False                        |
| ALLOWED_HOSTS                            | A comma separated list of hostnames that can serve Mathesar. It will be added to Django [ALLOWED_HOSTS](https://docs.djangoproject.com/en/4.2/ref/settings/#allowed-hosts) settings. <br/>Add `localhost` if you want to Mathesar to be accessible from localhost too.                                                                                                                                                                                                                                                                                     | `*`                          |
| DJANGO_DATABASE_KEY (***Internal***)     | The key used for referencing the [Database config information](https://docs.djangoproject.com/en/4.2/ref/settings/#databases). There should be atleast one `default` database config.                                                                                                                                                                                                                                                                                                                                                                      | `default`                    |
| DJANGO_DATABASE_URL (_**Required**_)     | A Postgres connection string of the database which will be used for storing metadata related to Mathesar in the format of: `postgres://{user}:{password}@{hostname}:{port}/{database-name}`.<br/> For example, for a database role whose username is `mathesar` and  `mathesar` is the password, `mathesar_db` is the database name and `5432` is the port under which the postgres server is listening on and `mathesar_django` is the database name, then the connection string will be `postgres://mathesar:mathesar@mathesar_db:5432/mathesar_django`. |                              |
| MATHESAR_DATABASES (_**Required**_)      | A dictionary of database connection string of the external databases to be managed by Mathesar keyed by a unique database key. It should of the format `(<unique_db_key>\|postgres://{user}:{password}@{hostname}:{port}/{database1-name}),(<unique_db_key>\|postgres://{user}:{password}@{hostname}:{port}/{database2-name}),...`.                                                                                                                                                                                                                        |                              |
| DJANGO_SETTINGS_MODULE  (***Internal***) | Relative path to the django settings file.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `config.settings.production` |
| MODE (***Internal***)                    | The mode under which the Frontend files will be served. The values can be either be `DEVELOPMENT` or `PRODUCTION`. Running under `DEVELOPMENT` mode will run a Svelte server and enable hot reloading of the files, while running under `PRODUCTION` mode will serve the static assets from the `/static/` url.                                                                                                                                                                                                                                            | `PRODUCTION`                 |

### Caddy Reverse Proxy Configuration
| Name                        | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Defaults |
|-----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|
| DOMAIN_NAME(_**Required**_) | The [public URL](https://caddyserver.com/docs/caddyfile/concepts#addresses) that will be used to access Mathesar. If a https:// url is provided, the Caddy reverse proxy will attempt to [automatically setup HTTPS](https://caddyserver.com/docs/automatic-https) with "lets encrypt" for you. Set this to `localhost` if you wish Mathesar to be available on localhost only. <br/>Set the prefix to `http` if you don't want caddy to automatically handle the SSL, for example `http://<your_domain_name>` |          |
| HTTP_PORT                   | The HTTP port used by caddy to listen for requests. It is recommended to use the default port `80` as features like automatic SSL [rely on it](https://caddyserver.com/docs/automatic-https#acme-challenges).<br/> If you already have a reverse proxy handling the SSL on the same system or if you are running on a non-root system, you can change it to a different port number to avoid conflicts or permission errors.                                                                                   | 80       |
| HTTPS_PORT                  | The HTTPS port used by caddy to listen for requests. If you want caddy to handle the SSL certificate it is highly recommended to use the default port `443` as features like automatic SSL, HTTPS redirection [rely on it](https://caddyserver.com/docs/automatic-https#acme-challenges).<br/> If you already have a reverse proxy handling the SSL on the same system or if you are running on a non-root system, you can change it to a different port number to avoid conflicts or permission errors.       | 443      |

### Database Configuration

| Name              | Description                                                                                                                                                                                                                                                          | Defaults          |
|-------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
| POSTGRES_PORT     | The port the postgres database listens on                                                                                                                                                                                                                            | `5432`            |
| POSTGRES_DB       | The name of the default database to create if it does not exists.                                                                                                                                                                                                    | `mathesar_django` |
| POSTGRES_USER     | This optional environment variable is used in conjunction with POSTGRES_PASSWORD to set a user and its password.<br/> This variable will create the specified user with superuser power and a database only if a superuser with the same name does not exists.       | `mathesar`        |
| POSTGRES_PASSWORD | This environment variable is required for you to use the PostgreSQL image. It must not be empty or undefined.<br/> This environment variable sets the superuser password for PostgreSQL. The default superuser is defined by the POSTGRES_USER environment variable. | `mathesar`        |
